      NIST SP 800-63C-4 ipd                                              Digital Identity Guidelines
      December 2022                                                      Federation and Assertions


886   will be released to the RP if the transaction is approved. If the federation protocol in use
887   allows for optional attribute disclosure at runtime, the authorized party SHALL be given
888   the option to decide whether to transmit specific attributes to the RP without terminating
889   the federation transaction entirely.
890   To mitigate the risk of unauthorized exposure of sensitive information (e.g., shoulder
891   surfing), the IdP SHALL , by default, mask sensitive information displayed to the
892   authorized party. If the authorized party is the subscriber, the IdP SHALL provide
893   mechanisms for the subscriber to temporarily unmask such information in order for the
894   subscriber to view full values before transmission. For more details on masking, see
895   Sec. 10 on usability considerations.
896   An IdP MAY employ mechanisms to remember and re-transmit the exact attribute
897   bundle to the same RP, remembering the authorized partyâ€™s decision. This mechanism
898   is associated with the subscriber account as managed by the IdP. If such a mechanism is
899   provided, the IdP SHALL allow the authorized party to revoke such remembered access
900   at a future time.

901   5.3.4. RP Allowlists of IdPs
902   RPs MAY establish allowlists of IdPs from which the RP will accept authentication and
903   attributes without a runtime decision from the subscriber. When placing an IdP in its
904   allowlist, the RP SHALL ensure that the IdP abides by the provisions and requirements in
905   these guidelines.
906   RP allowlists SHALL uniquely identify IdPs through the means of domain names,
907   cryptographic keys, or other identifiers applicable to the federation protocol in use.

908   5.3.5. RP Blocklists of IdPs
909   RPs MAY also establish blocklists of IdPs that the RP will not accept authentication
910   or attributes from, even when requested by the subscriber. A blocklisted IdP can be
911   otherwise in a valid trust agreement with the RP, for example if both are under the same
912   federation authority.
913   RP blocklists SHALL uniquely identify IdPs through the means of domain names,
914   cryptographic keys, or other identifiers applicable to the federation protocol in use.

915   5.3.6. RP Runtime Decisions
916   Every IdP that is in a trust agreement with an RP but not on an allowlist or a blocklist
917   with that RP SHALL be governed by a default policy in which runtime authorization
918   decisions will be made by the authorized party indicated in the trust agreement. In this
919   mode, the authorized party is prompted by the RP to select or enter which IdP to contact
920   for authentication on behalf of the subscriber. This process can be facilitated through
921   use of a discovery mechanism allowing the subscriber to enter a human-facing identifier

                                                   23
