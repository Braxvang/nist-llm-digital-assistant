                                                               GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


rights from end-users, etc.), methods that apply equally to IPv6 and IPv4.

  4.6.4   Unknown Aspects

Experience using the rules described above for address selection has unveiled several problematic
configurations, which require further attention. When a link has more than one router, or a site border
router is connected to more than one ISP, multiple prefixes can be used. If the prefix of a source address
does not correspond to the connection used, the packet may be dropped because of ingress filtering, or an
asymmetrical route may be established, and returned packets may be dropped due to packet filtering.
This problem is even worse in the case in which one of the routers is not globally connected but only
connected to a closed network segment. Prefix renumbering increases the complexity of this, because
choices of appropriate prefixes are not static.

The longest prefix match rule can always distinguish currently allocated global addresses from unique
local addresses, but this will become an issue when global addresses with a leading one bit begin to be
allocated.

Applications may need to have better control over address selection in certain cases. One case is
choosing between temporary and permanent addresses; another is between home and care-of addresses.

The above selection rules prefer IPv6 over IPv4 addresses, but cases exist in which the IPv4 address is the
better choice. For example, choosing the IPv6 address may result in use of a less efficient tunnel through
the same IPv4 network or choosing an IPv6 ULA will give only local connectivity as opposed to an IPv4
address which may give global connectivity.

Work is underway to find ways to remedy all of these situations, but in the meantime, installations need
to be aware of these potential problems and configure ways to work around them, case by case.

4.7   Dynamic Host Configuration Protocol (DHCP) for IPv6

Dynamic Host Configuration Protocol for IPv6 (DHCPv6) is a client-server protocol that provides IPv6
interfaces with address assignments and other configuration information. The alternative automated
protocol, stateless address autoconfiguration (SLAAC), is the ―native IPv6‖ way to obtain a dynamic
IPv6 address, but it does not supply information like DNS and NTP servers’ addresses or perform
dynamic DNS updates. Also, stateless address autoconfiguration does not offer centralized control of
address assignments, which some network operators may require. DHCPv6 keeps track of address
assignments and is called stateful, in contrast to stateless. DHCPv6 is not described in the IPv6 standards
as an essential component, but as more enterprises start to use IPv6, demand for DHCPv6 is growing.

The original DHCP for IPv4 (DHCPv4) and DHCPv6 are two separate protocols. One of the reasons for
using DHCPv4 with IPv4 is address conservation. Addresses may be in short supply and need to be
recycled, for example, on a dial-in network. This is not normally a concern with IPv6. Nevertheless,
IPv6 addresses are more difficult to memorize and type in, so having automated tools to manage them is
an aid to users and administrators.

DHCPv6 servers assign IPv6 addresses to network interfaces on a lease basis. The client may use the
assigned IP address for an administratively pre-determined amount of time before the lease expires. This
means that IPv6 address assignments made by DHCPv6 servers are not permanent, and over time, more
than one node may use a given IP address, but no more than one node can use an address at one time.




                                                   4-31
