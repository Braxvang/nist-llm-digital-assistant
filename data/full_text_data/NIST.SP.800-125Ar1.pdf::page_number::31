NIST SP 800-125A REV. 1                                                      SECURITY RECOMMENDATIONS FOR
                                                                         SERVER-BASED HYPERVISOR PLATFORMS


                   Appendix A: Description of Hypervisor Baseline Functions

    Detailed descriptions of each of the five hypervisor baseline functions are provided below:

•  HY-BF1: VM Process Isolation – Provides scheduling of VMs for execution, management of the
   application processes running in VMs such as CPU and Memory Management, and context switching
   between various processor states during the running of applications in VMs. If DMA capable devices are
   used in the hypervisor host, memory access to those devices need to be controlled as well. However, this
   function is considered under HY-BF2 since it pertains to devices mediation.
• HY-BF2: Devices Mediation & Access Control – Makes devices available to VMs (e.g., via
   emulation, para-virtualization, passthrough or self-virtualizing hardware devices) and controlling
   which VMs are allowed to access which devices (e.g., Network Interface Card (NIC), storage device
   such as IDE drive, etc.).
• HY-BF3: Direct Execution of commands from Guest VMs – Certain commands from Guest OSs are
   executed directly by the hypervisor instead of being triggered through interrupts and context switching.
   This function applies to hypervisors that have implemented para-virtualization instead of full
   virtualization.
.• HY-BF4: VM Lifecycle Management – This involves all functions from creation and management of VM
   images, control of VM states (Start, Pause, Stop), VM migration, VM monitoring and policy enforcement.
• HY-BF5: Management of hypervisor platform– This involves defining some artifacts and setting values
   for various configuration parameters in hypervisor software modules including those for configuration
   of a Virtual Network inside the hypervisor.

A detailed description of the above baseline functions is given below:

A.1       HY-BF1 (VM Process Isolation)

Provides scheduling of VMs for execution, management of the application processes running in VMs such
as CPU and Memory Management, and context switching between various processor states during the
running of applications in VMs. In order to ensure VM process isolation, memory access from DMA capable
devices needs to be under hypervisor control as well (e.g., via IOMMU). However, this function is
considered under HY-BF2 since it pertains to devices mediation.

A.2       HY-BF2 (Devices Mediation & Access Control)

The applications executing in VMs need to access devices such as network and storage. Mediation of access
to devices is handled in hypervisor hosts through device virtualization (also called IO virtualization). There
are three common approaches to device virtualization: (a) Emulation, (b) Para-virtualization, and (c)
Passthrough or self-virtualizing hardware devices.

In emulation, code is implemented to present a virtual device that has a corresponding real (hardware) device
for which the guest OS already has a driver. This enables running of unmodified guests (VMs), thus
implementing full virtualization. This emulation code runs in the hypervisor. An I/O call from a guest VM
application (through its guest OS) is intercepted by the hypervisor kernel and forwarded to this code since
guest VMs cannot access the physical devices directly under this setup. This emulation code traps all device
access instructions and converts them to calls on the physical device driver for the physical device attached to
the hypervisor host. It also multiplexes accesses from guest VMs’ emulated virtual devices to the underlying
physical device.



                                                        24
