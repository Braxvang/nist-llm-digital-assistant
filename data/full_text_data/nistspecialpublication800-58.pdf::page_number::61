NIST SP 800-58                                              Voice Over IP Security
_____________________________________________________________________________

         NATs entirely, but NATs have their benefits, and even if IPv6 and its expanded
         address space were implemented today and enough IP addresses were available
         for everyone to have their own unique IP’s, there would still be a need for NATs.
         Some ISPs use a scheme where users are assigned static IP addresses, one per
         user. It is unlikely that an ISP would completely overhaul its system and move to
         a dynamic IP assignment (i.e. DHCP) just because a wealth of new addresses are
         available to IPv6. This would undermine their whole network and lead to
         vulnerabilities and opportunities for malicious users to steal Internet access. But
         many users will still want to connect multiple machines to the Internet using a
         single IP address, and so the use of NATs will continue. There are many
         scenarios analogous to this one where NATs are both the cheapest, easiest, and
         most efficient solution, so NATs are not likely to be abandoned.


 7.3     Firewalls, NATs, and VOIP Issues

         Some VOIP issues with firewalls and NATs are unrelated to the call setup
         protocol used. Both network devices make it difficult for incoming calls to be
         received by a terminal behind the firewall / NAT. Also, both devices affect QoS
         and can wreak havoc with the RTP stream. The following sections describe these
         non-protocol specific issues.

 7.3.1    Incoming Calls

         Regardless of the protocol used for call setup, firewalls and NATs present
         considerable difficulties for incoming calls. Allowing signal traffic through a
         firewall from an incoming call means leaving several ports open that might be
         exploited by attackers. Careful administration and rule definitions should be used
         if holes are to be punched in the firewall allowing incoming connections.
         Solutions exist without such holes, including Application Level Gateways and
         Firewall Control Proxies. NAT creates even more difficulties for incoming calls.
         Any IP application, including VOIP, that needs to make a connection from an
         external realm to a point behind a NAT router, would need to know this point’s
         external IP and port number assigned by the router [10]. This situation is far from
         ideal because it precludes a caller outside the NAT from reaching an internal
         address except in extreme circumstances. In fact, with dynamic ports being
         assigned by the NAT, this is nearly an impossible situation because the port the
         caller requests will be changed by the NAT. Thus, an IP telephony endpoint
         behind a NAT being analogous to a phone behind a switchboard such that it can
         only make outgoing calls. For endpoints behind firewalls and NATs, it may be
         necessary to publish the contact address to enable other clients to call them.
         This is not an acceptable solution for thousands of people using NAT today.
         However, there are some solutions to this problem (see chapter 8).




56
