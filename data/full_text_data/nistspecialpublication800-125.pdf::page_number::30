                                                               GUIDE TO SECURITY FOR FULL VIRTUALIZATION TECHNOLOGIES



 Architecture. Designing the architecture includes the placement of the virtualization solution and the
  selection of virtualization software. It also includes placement and selection of storage, network
  topology, bandwidth availability, management systems, etc.
 Authentication. This involves determining which layers of the virtualization solution (e.g.,
  application/server, guest OS, hypervisor, host OS) need separate authentication mechanisms and
  selecting, implementing and maintaining those mechanisms.
 Cryptography. Decisions related to cryptography include selecting the algorithms for encryption and
  integrity protection of virtualization communications, and setting the key strength for algorithms that
  support multiple key lengths. These decisions affect many aspects of virtualized systems, including
  the type of authentication used at different levels of management and the protection of virtual
  machines when they are stored on disk.
Testing should be performed to make sure that servers, storage, and the network infrastructure can
accommodate virtualization. For example, virtualization may require more powerful hardware platforms
that currently exist in the organization, and moving disparate servers into a single location may cause
network bandwidth problems. Also consider whether the networked environment would benefit from
application streaming.

The security aspects of the virtualization solution design should be documented in the system security
plan. The organization should also consider how incidents involving the virtualization solutions should be
handled and document those plans as well. 4 An incident response team can save a snapshot of the guest
OS to capture the contents of memory, the hard disk, and state information. Many forensics tools can
directly examine the contents of a snapshot, allowing full forensic analysis of the image itself. The
incident response team may also be able to run a copy of the snapshot within a separate environment to
determine what the effects of the attack were. Organizations should not assume that incidents are
contained by virtualization; an attacker may have escaped the guest OS, potentially compromising the
hypervisor and other guest OSs, so it may be necessary to shut down or disconnect the host quickly to
achieve containment.

Running OSs and applications in virtualized environments sometimes has effects on software licensing.
This is not directly a security issue, but losing a license for running software can cause loss of data or
access to data. An example of a problem is a license that is tied to a NIC address or CPU characteristic;
moving the software to a virtualized environment could force relicensing. Many products have changed
their licensing terms to address virtualization, but others have not. Before placing software in a virtualized
environment, organizations should ensure that such use would be compatible with existing licensing
agreements and, if not, discuss with their software vendor how to minimize the possible loss of data or
access to their data.

5.3     Implementation

After the virtualization solution has been designed, the next step is to implement and test a prototype of
the design before putting the solution into production. Aspects of the solution that should be evaluated
include the following:

 Physical to Virtual Conversion. Existing servers and desktops may need to be migrated to guest
  OSs. Most hypervisors provide tools for doing this quickly and automatically. It is important to verify
  that the tools are compatible with the OSs running on the physical and the virtual machines. There


4
      For more information on incident handling, see NIST SP 800-61 Revision 1, Computer Security Incident Handling Guide.


                                                            5-3
