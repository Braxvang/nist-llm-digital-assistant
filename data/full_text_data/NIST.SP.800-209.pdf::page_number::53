                                                                                             NIST SP 800-209                                  SECURITY GUIDELINES FOR STORAGE INFRASTRUCTURE


                                                                                                    control whether the host may interact with any storage device. At the next level, OS
                                                                                                    capabilities can be used to control which devices the host tries to mount as a storage
                                                                                                    volume. Finally, the host centralized management software for volume management (e.g.,
                                                                                                    Logival Volume Manager or LVM), clustering tools, and the file system can be utilized
                                                                                                    to control device access by applications.
                                                                                                (b) In switch-based zoning, the switches (especially the FC switches) have the capability to
                                                                                                    specify which devices on which ports can access other devices or ports. Port-based
                                                                                                    zoning uses hardware to enforce zoning and is therefore also called “hard zoning.” In
                                                                                                    other words, switches should support zone control at the port WWN's level rather than at
                                                                                                    the switch (node) WWN level.
                                                                                                (c) In storage device-based zoning, the storage array is configured with a list that shows
This publication is available free of charge from: https://doi.org/10.6028/NIST.SP.800-209




                                                                                                    which hosts (even more specifically, which HBA ports) can access which block devices
                                                                                                    and on which ports. Access requests from unlisted hosts or HBA ports are ignored or
                                                                                                    rejected.
                                                                                                (d) If the zone set feature is available, it should be leveraged. This will help create multiple
                                                                                                    zones dedicated to a particular purpose, such as testing, dynamic reconfiguration, backup,
                                                                                                    and maintenance.

                                                                                             NC-SS-R4 – Masking Recommendation: Masking refers to making a block device visible or
                                                                                             invisible to hosts. Prefer masking as close to the data as possible and as far from the data
                                                                                             consumer or client as possible (e.g., favor array over switch masking, core switch over edge
                                                                                             switch, and switch over HBA).

                                                                                             NC-SS-R5 – A backup of switch configuration data: create a backup of the swtches'
                                                                                             configuration data, including zone configuration file. The backup should be kept outside of the
                                                                                             SAN switches to enable redeployment upon erroneous or malicious corruption or deletion.

                                                                                             NC-SS-R6 – Limit switch management capabilities to the minimum necessary:
                                                                                               (a) When implementing the SAN fabric, there should be well-defined policies that specify
                                                                                                   and minimize the set of switches that are authorized to distribute configuration data
                                                                                                   (while providing acceptable redundancy).
                                                                                               (b) Unnecessary configuration management permissions and services, such as password
                                                                                                   distribution, should not be enabled.

                                                                                             NC-SS-R7 – Considerations for using soft vs. hard zoning:
                                                                                               • Soft zoning – Soft zoning uses filtering implemented in Fibre-Channel switches to
                                                                                                  prevent ports from being seen from outside of their assigned zones. The security
                                                                                                  vulnerability in soft zoning is that the ports may be still accessible if the user in another
                                                                                                  zone correctly guesses the Fibre-Channel address. In this case, the FC switch will place a
                                                                                                  host WWN in a zone without evaluating the port numbers in the FC switch, which were
                                                                                                  used for connection. Port World-Wide Name (PWWN) identification is considered more
                                                                                                  secure than port number identification (used in hard zoning) because any device
                                                                                                  physically connected to a port could grant storage access to an unauthorized host. If the
                                                                                                  SAN spans across facilities with different physical security controls, and if there is a risk
                                                                                                  that physical ports could be accessed by unauthorized individuals, soft zoning may be
                                                                                                  preferable.

                                                                                                                                             43
