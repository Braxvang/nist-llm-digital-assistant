                                                                 Guidelines on PDA Forensics


consists of a set of functions related to system startup, interrupt handling, power management,
profiling, timer and clock. The OAL allows an OEM to adapt Windows CE to a specific
platform. An OEM must write the OAL for any custom hardware present.




                             Figure 3: Windows CE Architecture

Within the Operating System Layer are the Windows CE kernel and device drivers, whose
purpose is to manage and interface with hardware devices. Device drivers provide the linkage
for the kernel to recognize the device and to allow communications to be established between
hardware and applications. A device driver can be either monolithic or layered. Monolithic
drivers implement their interface directly in terms of actions on the device they control.
Layered drivers separate the implementation into two layers – an upper layer, which exposes
the driver’s native or stream interface, and a lower layer that performs the hardware
interactions.

The Graphics, Windowing, and Events Subsystem (GWES) is also part of the Operating
System Layer and provides the interface between the user, the application, and the operating
system. GWES is an integrated graphics device interface (GDI), window manager, and event
manager. The GWES module has two subcomponents: User and GDI. User refers to the part
of GWES that handles messages, events, and user input from keyboard and mouse or stylus.
GDI refers to the part of GWES that controls how text and graphics are displayed. GDI is used
to draw lines, curves, closed figures, text, and bitmap images.

The object store refers to three types of persistent storage supported by Windows CE within
the Operating System Layer: file system, registry, and property databases. Standard Win32
functions provide access to files and the registry, while new Windows CE-specific API
functions provide access to property databases and certain registry features. The subset of
Win32 and other Microsoft APIs implemented in Pocket PC allows a system to fulfill the
requirements of an embedded application, yet keep the programmability similar to that of
Windows PCs. The maximum size of the object store is 256MB in Windows CE. The object
store is built on an internal heap that resides in RAM, ROM, or both. The internal heap
provides a transaction model that uses logging to ensure the integrity of the object store data.

The Windows CE file system allows a file to be stored both in RAM and ROM. When a file
stored in RAM has the same name as a file stored in ROM, the actual RAM file shadows the
ROM file. A user who tries to access a shadowed file gains access to only the RAM version.
However, when the RAM version is deleted, the ROM version of the file is accessible. This
feature is useful for upgrading files that come with a device as ROM files.


                                          10
