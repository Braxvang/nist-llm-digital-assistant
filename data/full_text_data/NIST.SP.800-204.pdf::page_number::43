                                                                                             NIST SP 800-204                                                                                                    SECURITY STRATEGIES FOR
                                                                                                                                                                                                MICROSERVICES-BASED APPLICATION SYSTEMS

                                                                                               Security Strategy                                                                                           Microservices Core Feature /
                                                                                                                                                   Security Strategy
                                                                                                  Identifier                                                                                                Architectural Framework
                                                                                                   MS-SS-2         •   Access policies to all APIs and their resources should be defined and                   Access management
                                                                                                                       provisioned to an access server. Access policies at a coarse level of granularity
This publication is available free of charge from: https://doi.org/10.6028/NIST.SP.800-204




                                                                                                                       say “Permit to Call for a given set of addressable functionalities” should be
                                                                                                                       defined and enforced at the initial API gateway while authorizations at the finer
                                                                                                                       level of granularity (e.g., related to domain of the particular microservices’
                                                                                                                       business logic) should be defined and enforced closer to the location of the
                                                                                                                       microservices (e.g., at the microgateway) or sometimes at the microservice
                                                                                                                       itself.
                                                                                                                   •   Caching Mechanism: It may be appropriate to allow microservices to cache
                                                                                                                       policy data; this cache should be only relied upon when an access server is
                                                                                                                       unavailable and should expire after a duration appropriate for the
                                                                                                                       environment/infrastructure.
                                                                                                                   •   The access server should be capable of supporting fine-grained policies.
                                                                                                                   •   Access decisions from the access server should be conveyed to individual and
                                                                                                                       sets of microservices through standardized tokens encoded in a platform-
                                                                                                                       neutral format (e.g., OAuth 2.0 token encoded in JSON format). The token can
                                                                                                                       be either a handle-based token or an assertion bearing token.
                                                                                                                   •   The scope of internal authorization tokens appended by the micro gateway or
                                                                                                                       decision point to each request should be carefully controlled; for example, in a
                                                                                                                       request for transaction, the internal authorization token should be limited in
                                                                                                                       scope to only involve the API endpoints that must be accessed for that
                                                                                                                       transaction.
                                                                                                                   •   The API gateway can be leveraged to centralize enforcement of authentication
                                                                                                                       and access control for all downstream microservices, eliminating the need to
                                                                                                                       provide authentication and access control for each of the individual services. If
                                                                                                                       this design is chosen, any component suitably positioned on the network can
                                                                                                                       make anonymous connections to the services bypassing the API gateway and
                                                                                                                       its protections. Mitigating controls such as mutual authentication should be
                                                                                                                       leveraged to prevent direct, anonymous connections to the services."




                                                                                                                                                                  35
