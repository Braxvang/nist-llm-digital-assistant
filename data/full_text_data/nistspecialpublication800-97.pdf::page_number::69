                                     ESTABLISHING WIRELESS ROBUST SECURITY NETWORKS: A GUIDE TO IEEE 802.11I




                     Figure 5-13. Typical Enterprise with Multiple APs, STAs, and an AS



5.4.4   Pre-Authentication and PMKSA Caching

Pre-Authentication and PMKSA caching (also referred to as PMK caching or Proactive Key Caching) are
mechanisms that improve performance, particularly in roaming scenarios. In Pre-Authentication, a STA
can initiate an EAP over IEEE 802.1X authentication transaction with an AP outside of radio range using
an association with another AP and the DS for communication. This procedure creates a PMKSA
between the STA and remote AP. The PMKSA is cached (i.e., stored in a state table in memory) on both
the STA and remote AP. When the STA enters within range of the previously remote AP, it can initiate a
4-Way Handshake without a successful IEEE 802.1X and EAP authentication transaction, which occurred
earlier over the DS. The Pre-Authentication capability enables roaming STAs to start data
communications more quickly than if full authentication were required for every association. Although
pre-authentication is defined in 802.11i, it is not widely implemented.

PMKSA caching can also be enabled to improve performance even in the absence of Pre-Authentication.
If a STA in a fixed location often loses its connection to an AP due to radio interference or other reasons,
PMKSAs can enable quick reassociation without requiring the full authentication process.

If PMKSA caching is enabled, the STA supplies a list of PMKSAs to the authenticator during an
association or reassociation frame exchange. If the authenticator finds a match, then IEEE 802.1X and
EAP authentication is not necessary, and the STA and AP can start the 4-Way Handshake using the
cached PMKSA. If the AP does not have a corresponding PMKSA for the supplicant, then it will require
the full IEEE 802.1X and EAP authentication process. If the 4-Way Handshake fails, both sides can
remove the associated cached PMKSA.




                                                    5-17
