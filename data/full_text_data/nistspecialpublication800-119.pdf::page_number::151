                                                                       GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


roles of IPv4 and IPv6 reversed. One major difference is that DSTM presumes clients, servers, and
border routers belong to the same enterprise’s intranet.

RFC 4852, IPv6 Enterprise Network Analysis—IP Layer 3 Focus, discusses the IPv6-dominant transition
strategy and a research report56 contains the details.

Running DSTM has several advantages:

         It makes IPv4 available end to end without NAT.
         It conserves IPv4 addresses by reusing them.
         It is transparent to IPv6 applications.
         It promotes a rapid transition to IPv6.
6.5.9.1       Using DSTM

The idea is to run IPv6 as the local networking protocol and still be able to access IPv4 services as needed
with IPv4 over IPv6 tunneling. When an IPv6 address corresponding to an IPv4 address is needed, the
IPv4 address is embedded in the IPv6 interface ID as the low order 32-bits. The high-order 16 bits are set
to all ones, so the IPv4 address w.x.y.z yields the IPv6 interface ID FFFF:w.x.y.z. These are called IPv4-
mapped IPv6 addresses. The IPv6 packet encapsulating the IPv4 packet has Next Header = 4.

Tunneling is set up automatically. A DSTM server receives a request from a client for a temporary,
dynamically allocated IPv4 address, and it sets up the IPv4 over IPv6 tunnel to a dual stack IPv4/IPv6
DSTM border router.

The requirements for running DSTM are:

 An IPv6-only network infrastructure
 A dual stack IPv4/IPv6 client needing IPv4 connectivity and running DSTM with either DHCPv6 (the
  recommended choice) or Tunnel Setup Protocol (TSP) (RFC 5572).
 A DSTM server
 A DHCPv6 relay or server, or a TSP server
 An available pool of IPv4 addresses
 A dual stack IPv4/IPv6 border router capable of handling DSTM.
The dual stack IPv4/IPv6 client on the IPv6 network gets an IPv4-mapped IPv6 address and tunnel
endpoint (TEP) for a DSTM router from the DSTM server. The client-server protocol is either DHCPv6
or TSP.

6.5.9.2       Security Considerations for DSTM

DSTM does not use NAT, so IPsec, SSH, and other IPv4 security services can be used end to end.
DSTM can use any other security functionality that supports parts of its operation: DHCPv6
authentication, DNSSEC, or TSP over TLS.

56
     Xia, Bound, and Pouffary, The Evaluation of DSTM: An IPv6 Transition Mechanism.


                                                         6-29
