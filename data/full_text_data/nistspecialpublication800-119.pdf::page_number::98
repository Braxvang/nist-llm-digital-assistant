                                                                  GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


     Access to a private network or theft of service on a public network by unauthorized devices.
One problem that can occur is having improperly configured servers distribute inaccurate information.
Many of these problems can be mitigated by:

     Blocking DHCPv6 at firewalls (the port numbers are easily recognized)

     Using the DHCPv6 authentication option between clients and servers. This is defined in RFC 3118
      and implemented as a shared-secret-based HMAC-MD5 calculation with replay detection. The
      drawback to this, of course, is that it requires pre-configured security parameters and authentication
      credentials.

     Securing connections between relay agents and servers, for example, with ESP in transport mode

     Reviewing logs of DHCPv6 operations for unexpected events.
    4.7.4   Unknown Aspects

DHCPv6 is not universally supported in all IPv6 implementations, although demand for it is increasing as
users gain more operational experience with IPv6. One still has to check whether it is included.

It is expected that dual IPv4-IPv6 protocol stacks may be a standard method of operation for many
networks for a significant time. Running separate servers for DHCPv4 and DHCPv6 is somewhat of an
inconvenience, but limiting conflicting responses and resolving such conflicts if they arise are more
difficult problems. More work on this topic is needed.

Work is also in progress on several extensions to DHCPv6:

     An option for servers to specify a domain name suffix if a client requests one. This may be useful for
      IPv6 hosts or residential gateways, because IPv6 provides globally reachable addresses.

     An option for relay agents to request servers to echo relay agent options in their entirety. This is now
      specified in RFC 4994. The point is that a relay agent may add options to a request, the server may
      ignore them, and if they are not echoed, they may not get back to the client. With this echo option,
      DHCPv6 works more like DHCPv4 and avoids the problem just described.

     An option for relay agents to use message sequence numbers with servers for replay protection

     A method to query servers about active leases similar to the method specified in RFC 4388 for
      DHCPv4. This may be useful for administrators who want to poll their networks for active addresses.
4.8     IPv6 Prefix Renumbering

This section covers renumbering of IPv6 sites, that is, changing network prefixes. Renumbering hosts
(interfaces) individually is covered in Section 4.1 on Multihoming, Section 4.4 on Mobile IPv6, and
Section 4.6 on Address Selection. Site renumbering with IPv4 is regarded as a major chore, although
NAT, where it is used, simplifies the problem somewhat. IPv6 networks likely will not use NAT, but the
IPv6 specifications contain provisions for making site renumbering without a network outage work
smoothly. Nevertheless, one must pay attention to a significant number of details to avoid errors,
oversights, and unexpected results.

The most commonly cited reason for renumbering network prefixes is to change ISPs. Renumbering
sometimes becomes necessary when companies with large intranets merge or reorganize or when an ISP



                                                      4-35
