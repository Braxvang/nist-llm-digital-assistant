                                                                                              NIST SP 800-204C                                              DEVSECOPS FOR A MICROSERVICES-BASED
                                                                                                                                                                   APPLICATION WITH SERVICE MESH

                                                                                              4.3.2 Distinction Between Configuration and Infrastructure

                                                                                              Infrastructure is often confused with configuration [30], which maintains computer systems,
                                                                                              software, dependencies, and settings in a desired, consistent state. For example, putting a newly
                                                                                              purchased server onto a rack and connecting it to the switches so that it is connected to the existing
                                                                                              networks (or launching a new virtual machine and assigning network interfaces to it) belongs to
                                                                                              the definition of “infrastructure.” In contrast, after the server is launched, installing an HTTPS
                                                                                              server and configuring it belongs to configuration management.

                                                                                              4.4 CI/CD Pipeline for Policy as Code
This publication is available free of charge from: https://doi.org/10.6028/NIST.SP.800-204C




                                                                                              Policy as code involves codifying all policies and running them as part of the CI/CD pipeline so
                                                                                              that they become an integral part of the application runtime. Examples of policy categories
                                                                                              include authorization policies, networking policies, and implementation artifact policies (e.g.,
                                                                                              container policies). Policy management capabilities in a typical “policy as code software” may
                                                                                              come with a set of predefined policy categories and policies and also support the definition of
                                                                                              new policy categories and associated policies by providing policy templates [31]. The due
                                                                                              diligence required for policy as code is that it should provide protection against all known
                                                                                              threats that are relevant for the application environment including the infrastructure, and this
                                                                                              can be ensured only if that code is periodically scanned and updated with appropriate changes to
                                                                                              counter the threats relevant to the application class (e.g., web application) and the hosting
                                                                                              infrastructure. Some examples of policy categories and associated policies are given in Table 1
                                                                                              below.

                                                                                                                          Table 1: Policy Categories and Example Policies

                                                                                                              Policy Category                                     Example Policies

                                                                                               Networking policies and zero trust policies        •   Blocking designated ports
                                                                                                                                                  •   Designating ingress host names
                                                                                                                                                  •   In general, all network access control
                                                                                                                                                      policies
                                                                                               Implementation artifact policies (e.g.,            •   Hardening of servers, vulnerability scans
                                                                                               container policies)                                    for base images
                                                                                                                                                  •   Ensuring that containers do not run as root
                                                                                                                                                  •   Blocking privilege escalation for
                                                                                                                                                      containers
                                                                                               Storage policies                                   •   Set persistent volume sizes
                                                                                                                                                  •   Set persistent volume reclaim policies
                                                                                               Access control policies                            •   Ensure that policies cover all data objects
                                                                                                                                                  •   Ensure that policies cover all roles for
                                                                                                                                                      administrative and application access
                                                                                                                                                  •   Ensure that data protection policies cover
                                                                                                                                                      data at rest, data in transit, and data in use

                                                                                                                                                23
