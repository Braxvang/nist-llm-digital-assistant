                                                                           GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


This section reviews the main aspects of DNS briefly to help understand the changes needed to make
DNS work with IPv6 and how these affect the secure operation of DNS.

DNS is a hierarchical, distributed database that translates logical, human readable names such as
www.example.com into binary IP addresses used by applications like email and web browsers. The most
common format of a DNS name is referred to as the Uniform Resource Locator (URL), or simply as the
web address. DNS database entries are called resource records26. IPv4 and IPv6 addresses are different
types of resource records, but the DNS handles both essentially the same. What is important to remember
is that a single URL may have IPv4 addresses, IPv6 addresses, both, or neither.

DNS services are fully defined for IPv6 in RFC 3596. Additional information can be found in RFC 4472,
Operational Considerations and Issues with IPv6 DNS. The root and common top-level domain (TLD)
servers are all IPv6 capable today. Nevertheless, IPv6 addresses for production services usually cannot
be found in the DNS, particularly for services based in the United States or North America. Most of these
services do not have IPv6 access enabled, and most users would not have easy IPv6 connectivity to them
if they were. Getting IPv6 DNS entries close to parity with IPv4 DNS on the Internet is unlikely to
happen without demand for IPv6 access to popular, high-volume web sites and other services.

Most DNS implementations have been upgraded to support IPv6, but older software applications may
assume that DNS address queries return only 32-bit IPv4 addresses. Fully IPv6-capable DNS
implementations not only need to handle 128-bit IPv6 addresses but also need to run over IPv6 with the
same UDP and TCP port number, 53, as used by IPv4 (RFC 3901, DNS IPv6 Transport Operational
Guidelines)27.

The primary components of DNS are the DNS root and TLD servers, authoritative DNS servers, local
caching servers, and clients called resolvers. A resolver requests resource records from a local caching
server. If the local caching server does not have a requested record, it uses the information it does have to
start querying authoritative servers.

     3.7.1   DNS Transport Protocol

It is important to note that while IPv6 address queries may be made over an IPv4 or IPv6 network, IPv6
transport of DNS messages is not required for looking up IPv6 addresses in DNS. The query, not the
transport protocol, should always determine what information is returned in the Answer, Authority, and
Additional sections of a response. A host can request an IPv6 address even if the network on which that
host resides is IPv4-only. To obtain both the IPv4 and IPv6 addresses, a single DNS query could be used,
but it is recommended that two separate requests be used. The choice as to which protocol to use first is
configurable. Hosts and DNS servers running both IPv4 and IPv6 should have no problem with this
aspect of DNS, but all zones should be set up so that they have at least one IPv4-enabled authoritative
server, and IPv6-only systems should follow or exceed the minimum configuration guidelines in RFC
3901 to ensure that they do not get cut off from the rest of the DNS tree because they cannot
communicate with any IPv4-only DNS servers.

     3.7.2   DNS Specification Overview

RFC 3596, DNS Extensions to Support IP Version 6, defines the changes needed to DNS to support IPv6.


26
      Technically, we are discussing the IN (Internet) CLASS of the DNS. A complete list of resource record types can be found
      at the IANA DNS Registry.
27
      It is incumbent upon authoritative name servers accessible with IPv6 transport to maintain connectivity with todayâ€™s
      predominant part of the DNS accessible with IPv4 transport to avoid splitting the namespace.


                                                             3-37
