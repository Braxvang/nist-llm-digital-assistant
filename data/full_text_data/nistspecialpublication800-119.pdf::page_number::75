                                                                GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


outer header upon delivery.

Because the QoS fields in the outer header are not protected, firewalls cannot blindly trust the Type of
Service and Flow Label alone for access control decisions. Also, traffic analysis may become simpler,
because someone monitoring traffic flows can take advantage of the same efficiencies as legitimate
routers forwarding traffic.

A different aspect is making sure that security does not impede the required QoS. QoS may need to be
applied to packets secured with IPsec, in which case information about the upper layer protocols may not
be accessible, but in this case, the methods in RFC 2207 can be used to differentiate IPsec-protected
traffic. When planning to provide QoS, one must take into account that cryptographic protection, packet
filtering, and examination by intrusion prevention systems all add some delay.

A third consideration is that securing QoS signaling protocols such as RSVP presents some difficulties,
because these protocols often do not run strictly end to end but presume that intermediate points examine
(or, worse, modify) the contents. For an overview of RSVP security, see RFC 4230.

Since the flow label field is currently for the most part unused, it could be used as a covert channel.
Therefore, unless it is in use, its contents should always be zero.

  4.3.4   Unresolved Aspects of IPv6 QoS

General aspects of using Flow Labels have been specified, but details needed to take advantage of them
are still missing. Because of the ways QoS depends on lower-layer protocols, it is unclear where and how
progress on this front will be made.

4.4   Mobile IPv6 (MIPv6)

IP-layer mobility has long been considered a useful and important feature, but today, with the exploding
growth of laptop computers, PDAs, and mobile phones connecting to the Internet from more than one
location, and, tomorrow, with the Internet in every motor vehicle and yet unimagined portable devices, it
is becoming an essential ingredient in advanced services.

The work on Mobile IPv4 (MIPv4) envisioned many of the features and functions of Mobile IPv6
(MIPv6), but MIPv4 has never been practical on a large scale. The capabilities built into IPv6 make
widespread use of MIPv6 practical: plentiful end-to-end addresses, security, optimized routing, increased
reliability, and more. Thus, it is expected that use of mobility will increase with IPv6.

The central issue with IP mobility is the same as with multihoming: disconnecting from one network and
reconnecting to another is easy; changing IP addresses while keeping one’s TCP connections, IPsec
security associations, and streaming protocols running takes more work. Not surprisingly, MIPv4 and
MIPv6 have common elements, but mobility is inherently a difficult problem, and MIPv6 involves quite a
bit of sophisticated protocol design.

  4.4.1   MIPv6 Specification Overview

MIPv6 allows an IPv6 interface to disconnect and reconnect physically in an internet topology while
logically retaining its ―home‖ IPv6 address, so MIPv6 nodes can change their point of attachment to the
network while maintaining seamless connectivity. The primary document describing MIPv6 is RFC




                                                    4-12
