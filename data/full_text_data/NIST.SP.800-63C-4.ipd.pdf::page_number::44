       NIST SP 800-63C-4 ipd                                              Digital Identity Guidelines
       December 2022                                                      Federation and Assertions


1168   protocol in use, the IdP SHOULD allow the RP to request that the subscriber repeat
1169   authentication at the IdP as part of a federation request.
1170   An RP requiring authentication through a federation protocol SHALL specify the
1171   maximum acceptable authentication age to the IdP, either through the federation protocol
1172   (if possible) or through the parameters of the trust agreement. The authentication age
1173   represents the time since the last authentication event in the subscriber’s session at the
1174   IdP, and the IdP SHALL reauthenticate the subscriber if they have not been authenticated
1175   within that time period. The IdP SHALL communicate the authentication event time to
1176   the RP to allow the RP to decide if the assertion is sufficient for authentication at the RP
1177   and to determine the time for the next reauthentication event.
1178   If an RP is granted access to an identity API along with the assertion, the lifetime of
1179   the access to the identity API is independent from the lifetime of the assertion itself.
1180   Since access to the identity API is often combined with access to additional APIs, it is
1181   common for this access to be valid long after the assertion has expired and possibly after
1182   the session with the RP has ended, allowing the RP to access APIs on the subscriber’s
1183   behalf while the subscriber is no longer present. As a consequence, the RP’s ability to
1184   successfully fetch additional attributes through an identity API SHALL NOT be used to
1185   establish a session at the RP. Likewise, inability to access an identity API SHOULD NOT
1186   be used to end the session at the RP.
1187   See [SP800-63B], Sec. 7 for more information about session management requirements
1188   for both IdPs and RPs.

1189   5.7. Shared Signaling
1190   In some environments, it is useful for the IdP and RP to send information to each
1191   other outside of the federation transaction. These signals can communicate important
1192   changes in state between parties that would not be otherwise known. The use of any
1193   shared signaling SHALL be documented in the trust agreement between the IdP and
1194   RP. Signaling from the IdP to the RP SHALL require a static trust agreement. Signaling
1195   from the RP to the IdP MAY be used in a static or dynamic trust agreement.
1196   Any use of shared signaling SHALL be documented and made available to the authorized
1197   party stipulated by the trust agreement. This documentation SHALL include the events
1198   under which a signal is sent, the information included in such a signal (including any
1199   attribute information), and any additional parameters sent with the signal. The use of
1200   shared signaling SHALL be subject to privacy review under the trust agreement.
1201   The IdP MAY send a signal regarding the following changes to the subscriber account:
1202       • The account has been terminated.
1203       • The account is suspected of being compromised.


                                                   32
