                                                                             GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


Tunnel endpoint security is an issue, as always. DSTM routers should be configured together with IPv4
firewalls and intrusion detection systems to secure IPv4 tunnel endpoints from IPv4-based attacks. They
should also check the consistency of the IPv4 and IPv6 addresses used in tunneled traffic and apply
ingress and egress filtering. Finally, they should only accept DSTM traffic on their internal interfaces to
avoid being used as an open relay.

Perhaps the most serious resource exhaustion DOS attack is against the supply of IPv4 addresses.
Authenticating the client-server protocol allows such attacks to be tracked down easily.

     6.5.10 Carrier-Grade NAT and Dual-Stack Lite

For several years, dual stack hosts and routers have been promoted as the most practical transition plan.
However, this approach faces a new problem today. Dual stack means having IPv4 and IPv6 addresses,
but the world is running out of IPv4 addresses. It is expected that IPv4 will be needed to support IPv4-
only devices in the home and IPv4-only content on the Internet long past the exhaustion of the pool of
globally routable IPv4 addresses.

The emphasis in this transition strategy is on helping service providers plan for a situation in which not
enough globally-routable IPv4 addresses are available for the WAN-facing (Wide Area Network) side of
customers’ NAT boxes.

Several proposals have been made to deploy native IPv6 along with some method of sharing globally
reachable IPv4 addresses among broadband customers needing both IPv4 and IPv6 access. All of these
involve some kind of centralized network address translation (NAT), which is frequently called ―carrier-
grade NAT.‖ In this context, ―carrier grade‖ essentially means centralized, and it may also imply high
capacity, shared, or multiplexed.

At least four choices for how a customer’s site achieves IPv4 connectivity with a carrier-grade NAT57
have been described. One, called ―IPv4->IPv4->IPv4,‖ provides the customer with a non-routable
(typically network 10.0.0.0/8) IPv4 address between the customer’s gateway and the carrier-grade NAT.
This can cause new problems traversing an additional layer of NAT, handling the possibility of address
conflicts, and even dealing with a shortage of 10.0.0.0/8 addresses for large service providers. A second
proposal, called ―IPv4->IPv6->IPv4,‖ is to run IPv6 between a customer’s gateway and carrier-grade
NAT. IPv4 traffic then needs to be translated twice. A third choice is to run IPv4-over-IPv6 tunnels
between a customer’s gateway and carrier-grade NAT. This combination of carrier-grade NAT and IPv4-
over-IPv6 tunneling, called ―dual stack lite,‖ has perhaps gathered the most support, although no
approved specifications exist yet. Finally, a fourth proposal tries to improve on dual-stack lite by treating
portions of the port numbers effectively as extensions of the IPv4 address.58

Carrier-grade NAT does, however, pose restrictions and present some problems for users. Applications
relying on port mapping or port opening (e.g., the current UPnP [Universal Plug and Play] specification)
may not work with multiple NATs. IPv4 multicast may not be supported. Finally, the total number of
TCP ports for the shared IPv4 address is limited.




57
      For a discussion of the first three of these, see the expired IETF Internet Draft, Distributed NAT for Broadband Deployments
      Post IPv4 Exhaustion.
58
      Maennel, Bush, Cittadini and Bellovin, A Better Approach than Carrier-Grade-NAT, Columbia University Technical Report
      CUCS-041-08, 2008.


                                                              6-30
