                                                                  GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


The fundamental IPsec security association architecture and protection protocols, ESP and AH, were
designed mainly for unicast, and, although they work with multicast in principle, they are incompletely
specified for multicast, and many open issues exist. (For example, what happens to a multicast security
association when members join or leave the group?)

Key management for IPsec, provided by IKE, is inherently a two-party protocol. Different protocols for
group key management have been proposed, but an agreed-upon and widely implemented standard for
IPsec multicast key management has not emerged. Protocol specifications like PIM suggest using IPsec
with manual keying, but this solution that does not scale well over time or space and has other limitations.
For example, the IPsec replay detection feature is not supposed to be used with manual keying,

The security recommendations for PIM call for using IPsec AH, even for unicast messages. Where IPsec
is used with IPv4, AH has generally fallen out of use in favor of ESP, with NULL encryption when
authentication-only is desired. Thus the IPsec standard (RFC 4301) no longer requires AH, and many
implementations omit it. See Section 5.3.6 for additional discussion of this topic.

4.3     IPv6 Quality of Service (QoS)

The TCP/IP Network Layer—IPv4 and IPv6—was intentionally designed without any of the features
normally associated with QoS such as admission controls; resource guarantees; and in-order, lossless
delivery. QoS on TCP/IP networks or the Internet is a somewhat imprecise concept, which may have
different meanings varying from ―anything except undifferentiated best effort‖ to specific service level
contracts between a provider and user. It may mean:

     Providing a given user with certain levels of overall availability, throughput, low latency, maximum
      packet loss, or even security

     Treating different types of traffic differently, according to content: real-time audio or video requires
      high throughput and consistently low latency but can tolerate small losses, whereas file transfer can
      tolerate delay but no losses whatsoever.
Many aspects of engineering QoS depend on technologies running at multiple layers, such as MPLS
(MultiProtocol Label Switching) and ATM (Asynchronous Transfer Mode). IETF work on QoS for
TCP/IP began with Integrated Services (intserv), which was designed to provide QoS guarantees. Intserv
has been replaced with Differentiated Services (diffserv), which simply recognizes that different types of
traffic have different QoS requirements and need to be marked accordingly. The signaling protocol (i.e.,
the protocol used for QoS setup and specification) to establish QoS requests is RSVP—Resource
Reservation Protocol. IPv6 end-to-end addressing allows services that are difficult to deploy with NAT as
well as end-to-end use of diffserv and RSVP. Many of these services may have real-time and multimedia
content, so QoS is likely to become a more important topic with the widespread use of IPv6.

The notion of improved QoS has always been linked with IPv6. In fact, IPv6 was designed to support
certain QoS improvements, but not all of these have been completely specified or implemented.

    4.3.1   IPv6 QoS Specifications

Several aspects of IPv6 implicitly or explicitly support QoS. These include:

     A streamlined header with fewer fields, no checksum processing, sufficient address space to make
      address translation unnecessary, and a simple test for whether routers need to examine anything past
      the fixed length header promote efficient packet forwarding.



                                                      4-10
