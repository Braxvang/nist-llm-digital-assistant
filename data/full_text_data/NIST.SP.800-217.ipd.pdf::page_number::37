       NIST SP 800-217 ipd                         Guidelines for PIV Federation (Initial Public Draft)
       January 2023


972    6.2.2. Authorization and Access Rights
973    The assertion MAY contain indicators for the authorizations and access rights that the
974    subscriber has at the RP, such as a set of roles within an organization. The RP SHALL
975    trust these only as subject to the details of the trust agreements between the IdP and RP.
976    As the point of enforcement, the RP MAY override these authorizations by additionally
977    restricting access as necessary.

978    6.3. Discovery and Registration
979    The IdP SHALL publish its configuration information in a standard machine-readable
980    format and location appropriate to the federation protocol in use. The information in the
981    configuration document SHALL be sufficient to allow for the automated configuration of
982    an RP contacting the IdP even when the RP is statically registered.
983    IdPs operating at FAL2 and below SHOULD allow RPs to register dynamically, as
984    described in [SP800-63C]. Assertions issued to dynamically registered RPs SHALL
985    contain pairwise subject identifiers.

986    6.4. Assertion Presentation
987    The IdP SHALL support back-channel assertion presentation, if possible within
988    the federation protocol. All back-channel presentation methods SHALL require
989    authentication of the RP.
990    At all FALs, RPs SHOULD use back-channel presentation to fetch the assertion directly
991    from the IdP, where available.
992    If front-channel presentation is used, the contents of the assertion SHALL be encrypted to
993    a key specific to the RP, as described in [SP800-63C].

994    6.5. Attribute APIs
995    The IdP SHALL make identity attributes for the subscriber available through a standard
996    identity API, if possible within the federation protocol in use. The identity API SHALL
997    require protected access from the RP.
998    The IdP SHALL allow limited disclosure of attributes through this API, such that
999    federation agreements that connect the IdP and RP (including runtime decisions by an
1000   authorized party) can dictate which attributes are disclosed to the RP for a given request.
1001   The RP SHALL use the account update timestamp to manage its cache of attribute
1002   information in the RP subscriber account, particularly when using a just-in-time
1003   provisioning model. That is, if the account update timestamp in the assertion is later than
1004   the last cache update value, the RP knows that it should fetch updated information from
1005   the identity API. If the timestamp is not later than the cache time, the RP can determine
1006   that an additional call to the identity API would be redundant.

                                                    27
