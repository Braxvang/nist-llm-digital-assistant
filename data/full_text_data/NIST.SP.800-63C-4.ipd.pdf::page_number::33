      NIST SP 800-63C-4 ipd                                              Digital Identity Guidelines
      December 2022                                                      Federation and Assertions


811   IdPs SHOULD issue pairwise pseudonymous subject identifiers to dynamically registered
812   RPs, as discussed in Sec. 6.2.5.
813   Where possible, dynamic registration SHOULD be augmented by software statements
814   anchored in their trust agreement. Software statements are lists of attributes describing the
815   RP software, cryptographically signed by an authority (either the IdP itself, a federation
816   authority as in Sec. 5.1.2, or another trusted party). Software statements allow federated
817   parties to cryptographically verify some attributes of an RP being dynamically registered
818   without necessarily having all of the identifying information for that RP ahead of time.
819   This cryptographically verifiable statement allows the connection to be established or
820   elevated between the federating parties without relying solely on self-asserted attributes.
821   (See [RFC7591] Sec. 2.3 for more information on one protocol’s implementation of
822   software statements.)

823   5.3. Authentication and Attribute Disclosure
824   Once the IdP and RP have entered into a trust agreement and have completed registration,
825   the federation protocol can be used to pass subscriber attributes from the IdP to the RP.
826   The decision of whether an authentication can occur or attributes may be passed SHALL
827   be determined by the authorized party stipulated by the trust agreement, through use of an
828   allowlist, a blocklist, or a runtime decision.
829   A subscriber’s attributes SHALL be transmitted between IdP and RP only for identity
830   federation transactions or support functions such as identification of compromised
831   subscriber accounts as discussed in Sec. 5.5. A subscriber’s attributes are not to be
832   transmitted for any other purposes, even when parties are allowlisted.
833   A subscriber’s attributes SHALL NOT be used by the RP for purposes other than those
834   stipulated in the trust agreement.
835   The subscriber SHALL be informed of the transmission of attributes to an RP. In the case
836   where the authorized party is the organization, the organization SHALL make available to
837   the subscriber the list of approved RPs and the associated sets of attributes sent to those
838   RPs. In the case where the authorized party is the subscriber, the subscriber SHALL be
839   prompted prior to release of attributes using a runtime decision at the IdP as described in
840   Sec. 5.3.3.
841   The IdP SHALL provide effective mechanisms for redress of subscriber complaints
842   or problems (e.g., subscriber identifies an inaccurate attribute value). See Sec. 10 on
843   usability considerations for redress.

844   5.3.1. IdP Allowlists of RPs
845   In a static trust agreement, IdPs MAY establish allowlists of RPs authorized to receive
846   authentication and attributes from the IdP without a runtime decision from the subscriber.
847   When placing an RP on its allowlist, the IdP SHALL ensure that the RP abides by all

                                                   21
