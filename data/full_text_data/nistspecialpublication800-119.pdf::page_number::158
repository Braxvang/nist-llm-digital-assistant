                                                                 GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


6.6.4.1     Using TRT

TRT works much like a proxy firewall, except that it can use IPv4 on one side and IPv6 on the other. The
TRT establishes connections to the ―inside‖ and ―outside‖ nodes, and no IPv4 or IPv6 packets go through
the TRT. The TRT does not translate DNS records; it handles DNS itself. It only works with TCP and
UDP.

6.6.4.2     Security Issues for TRT

Security Considerations for TRT include:

        IPsec cannot traverse TRT.
        Because of the way TRT handles DNS, DNSSEC is incompatible with TRT.
        Protocols that base authentication on IP address (e.g., rsh, rlogin) do not work across TRT.
        The translator must retain state, so it is vulnerable to various DOS attacks.
        Attackers may use the translator to subvert address filtering or hide the true source of traffic.
  6.6.5   Application Layer Translation

Application gateways provide application-specific translation, which is necessary when the application
contains IP addresses. They are similar to the application gateways used in some firewalls. They enable
continued operation of legacy IPv4 applications. An alternative approach is to re-write those portions of
the application code that either handle IP addresses or embed those addresses in messages generated by
the application.

6.6.5.1     Using Application Layer Translation

Three generic approaches to building application gateways are:

        RFC 2767 covers Bump in the Stack (BIS). The translation takes place in an endpoint, so
         IPv4 applications can run on an IPv6 host. The translation uses SIIT and maintains address
         mappings from an IPv4 address pool. BIS converts DNS AAAA records to A records.
        BUMP in the API (RFC 3338) is designed to provide the same capability as BIS, but the
         translation occurs between IPv4 and IPv6 APIs, that is between the sockets layer calls and
         TCP/IP implementation. It uses the same translation conventions as SIIT, but no actual IPv4
         header exists. IPv4 DNS requests are translated into IPv6 requests. An artificial pool of
         internal IPv4 addresses is mapped to IPv6 addresses.
        RFC 1928 defines the SOCKSv5 protocol. Firewall support is part of this protocol's design.
         The SOCKS library is installed on the client between the application layer and the socket
         layer. It maintains an artificial pool of IPv4 addresses and keeps a mapping of these to domain
         names. SOCKS Gateways relay connections at the application layer.
6.6.5.2     Security Considerations for Application Layer Translation

Application layer translation can offer good security, even if it is of limited value in transitioning to IPv6.
Host-resident translation allows use of IPv6 security mechanisms, whereas gateway-resident translation
breaks end-to-end connectivity. Gateways may be subjected to DOS, address spoofing, and open relay
attacks if they do not use authentication.


                                                     6-36
