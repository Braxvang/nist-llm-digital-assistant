                                                                                              NIST SP 800-204C                                              DEVSECOPS FOR A MICROSERVICES-BASED
                                                                                                                                                                   APPLICATION WITH SERVICE MESH

                                                                                                                Policy Category                                 Example Policies

                                                                                                                                                  •   Ensure that policies of all types do not
                                                                                                                                                      have conflicts
                                                                                                  Supply chain policies                           •   Allow only approved container registries
                                                                                                                                                  •   Allow only certified libraries
                                                                                                  Audit and accountability policies               •   Ensure that there are policies associated
                                                                                                                                                      with audit and accountability functions

                                                                                              The policies defined in the “policy as code software” may translate into the following in the
This publication is available free of charge from: https://doi.org/10.6028/NIST.SP.800-204C




                                                                                              application infrastructure runtime configuration parameters:

                                                                                                    •   Policy-enforcing executable (e.g., WASM in service proxies)
                                                                                                    •   Triggers for calling an external policy decision module (e.g., calling an external
                                                                                                        authorization server for an allow/deny decision based on the evaluation of access control
                                                                                                        policies relevant to the current access request)
                                                                                                    •   It may also impact the IaC to ensure that appropriate resources are provisioned in the
                                                                                                        deployment environment to enforce security, privacy, and compliance requirements.

                                                                                              4.5 CI/CD Pipeline for Observability as Code

                                                                                              Observability as code deploys a monitoring agent in each of the application’s service components
                                                                                              to collect the three types of data (described in Section 4.1), send them to specialized tools that
                                                                                              correlate them, perform analysis, and display the analyzed consolidated data on dashboards to
                                                                                              present an overall application-level picture [32]. An example of such consolidated data are log
                                                                                              patterns, which provide a view of log data that is presented after the log data are filtered using
                                                                                              some criterion (e.g., a service or an event). The data are grouped into clusters based on common
                                                                                              patterns (e.g., based on timestamp or range of IP addresses) for easy interpretation. Unusual
                                                                                              occurrences are identified, and those findings can then be used to steer and accelerate further
                                                                                              investigation [33].

                                                                                              4.6 Securing the CI/CD Pipeline

                                                                                              There are some common implementation issues to be addressed for CI/CD pipelines irrespective
                                                                                              of code type. Securing the processes involves the assignment of roles for operating the build
                                                                                              tasks. Automation tools (e.g., Git Secrets) are available for this purpose. The following security
                                                                                              tasks should be considered as a minimum for securing the CI/CD pipeline:
                                                                                              •     Harden servers hosting code & artifact repositories
                                                                                              •     Secure the credentials used for accessing repositories such as authorization tokens and for
                                                                                                    generating pull requests
                                                                                              •     Controls on who can check-in and check-out in container Image registries since they are the
                                                                                                    storage for artifacts produced by CI pipeline and serve as bridges between CI and CD
                                                                                                    pipelines
                                                                                              •     Logging all code and build update activities

                                                                                                                                                24
