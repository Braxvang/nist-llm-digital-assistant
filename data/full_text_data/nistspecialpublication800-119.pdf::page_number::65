                                                                       GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


If NAT is used, resiliency is not transparent, and load balancing within a connection is impossible, so
IPv6 multihoming without NAT potentially offers more powerful capabilities.

On the one hand, obtaining PI addresses is the most practical way to achieve IPv6 multihoming, whereas,
on the other hand, the router table growth caused by IPv4 multihoming (frequently called CIDR address
prefix de-aggregation) is problematical for the Internet, and it is a potentially overwhelming problem with
IPv6. Therefore, provisioning IPv6 PI addresses has been a vigorously debated topic. Policies differ
among the Regional Internet Registries (RIRs). The ARIN Number Resource Policy Manual30 requires
that an organization must be an end site and not a local registry and ―qualify for an IPv4 assignment or
allocation from ARIN under the IPv4 policy currently in effect, or demonstrate efficient utilization of all
direct IPv4 assignments and allocations, each of which must be covered by any current ARIN RSA‖.

Qualifying organizations may obtain a /48 PI IPv6 assignment. Until a solution both satisfying the global
forwarding problem and providing host transparency is available, IPv6 sites needing multihoming and not
qualifying for a PI assignment should attempt to get their primary ISP to accept /48 prefixes from
secondary ISPs and thus achieve partial multihoming, although such requests may or may not be honored.

     4.1.2   Site Multihoming by IPv6 Intermediation (SHIM6) Specification Overview

Several architectural approaches to IPv6 multihoming have been considered. These are described in
detail in RFC 4177:

     Use the global routing infrastructure, as is done with IPv4.

     Base the solution on Mobile IPv6.

     Modify protocols in hosts to accommodate dynamic changes of locators.

     Design the intelligence, including rewriting addresses, into site exit-routers.

     Add a network layer protocol element to split addresses into locators and identifiers.
The most forward looking solutions to the multihoming problem introduce the notion of splitting an IP
address into an identifier and locator. The idea is that upper layer protocols use the identifier, and core
network routing and forwarding use the locator. Multihoming is accomplished by dynamically managing
the bindings between the two. To make this work, protocols for establishing and maintaining these
relationships must be provided. This requires protocol elements that update locator lists, switch locators
in use, and so forth.

More than one proposal has been made along these lines, but the active standards track work on
specifying split IPv6 identifiers and locators is called SHIM6 and is being done in the IETF’s SHIM6
Working Group. The name is derived from the way the additional address is specified in a shim header
inserted into the packet.

SHIM6 (RFC 5533) is a network layer, host-based protocol to establish identifier-locator bindings. Its
goals are31:

     To preserve established communications in the presence of certain classes of failures, for example,
      TCP connections and UDP streams


30
      ARIN, Number Resource Policy Manual.
31
      IETF Site Multihoming by IPv6 Intermediation (shim6),Working Group Charter.


                                                           4-2
