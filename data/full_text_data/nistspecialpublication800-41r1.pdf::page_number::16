                                                                  GUIDELINES ON FIREWALLS AND FIREWALL POLICY


2.1.4   Application-Proxy Gateways

An application-proxy gateway is a feature of advanced firewalls that combines lower-layer access control
with upper-layer functionality. These firewalls contain a proxy agent that acts as an intermediary between
two hosts that wish to communicate with each other, and never allows a direct connection between them.
Each successful connection attempt actually results in the creation of two separate connections—one
between the client and the proxy server, and another between the proxy server and the true destination.
The proxy is meant to be transparent to the two hosts—from their perspectives there is a direct
connection. Because external hosts only communicate with the proxy agent, internal IP addresses are not
visible to the outside world. The proxy agent interfaces directly with the firewall ruleset to determine
whether a given instance of network traffic should be allowed to transit the firewall.

In addition to the ruleset, some proxy agents have the ability to require authentication of each individual
network user. This authentication can take many forms, including user ID and password, hardware or
software token, source address, and biometrics.

Like application firewalls, the proxy gateway operates at the application layer and can inspect the actual
content of the traffic. These gateways also perform the TCP handshake with the source system and are
able to protect against exploitations at each step of a communication. In addition, gateways can make
decisions to permit or deny traffic based on information in the application protocol headers or payloads.
Once the gateway determines that data should be permitted, it is forwarded to the destination host.

Application-proxy gateways are quite different than application firewalls. First, an application-proxy
gateway can offer a higher level of security for some applications because it prevents direct connections
between two hosts and it inspects traffic content to identify policy violations. Another potential advantage
is that some application-proxy gateways have the ability to decrypt packets (e.g., SSL-protected
payloads), examine them, and re-encrypt them before sending them on to the destination host. Data that
the gateway cannot decrypt is passed directly through to the application. When choosing the type of
firewall to deploy, it is important to decide whether the firewall actually needs to act as an application
proxy so that it can match the specific policies needed by the organization.

Firewalls with application-proxy gateways can also have several disadvantages when compared to packet
filtering and stateful inspection. First, because of the “full packet awareness” of application-proxy
gateways, the firewall spends much more time reading and interpreting each packet. Because of this,
some of these gateways are poorly suited to high-bandwidth or real-time applications—but application-
proxy gateways rated for high bandwidth are available. To reduce the load on the firewall, a dedicated
proxy server (discussed in Section 2.1.5) can be used to secure less time-sensitive services such as email
and most web traffic. Another disadvantage is that application-proxy gateways tend to be limited in terms
of support for new network applications and protocols—an individual, application-specific proxy agent is
required for each type of network traffic that needs to transit a firewall. Many application-proxy gateway
firewall vendors provide generic proxy agents to support undefined network protocols or applications.
Those generic agents tend to negate many of the strengths of the application-proxy gateway architecture
because they simply allow traffic to “tunnel” through the firewall.

2.1.5   Dedicated Proxy Servers

Dedicated proxy servers differ from application-proxy gateways in that while dedicated proxy servers
retain proxy control of traffic, they usually have much more limited firewalling capabilities. They are
described in this section because of their close relationship to application-proxy gateway firewalls. Many
dedicated proxy servers are application-specific, and some actually perform analysis and validation of
common application protocols such as HTTP. Because these servers have limited firewalling capabilities,


                                                    2-6
