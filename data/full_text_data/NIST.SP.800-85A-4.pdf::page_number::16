NIST SP 800-85A-4                                             PIV CARD APPLICATION & MIDDLEWARE
                                                                       INTERFACE TEST GUIDELINES

3.       Test Suite Elements

Based on the conceptual software architecture shown in Figure 1, the PIV software
components that are subject to testing are as follows:
     +    PIV Middleware that implements the functions for the PIV Client API and interfaces
          with the PIV Card Application (resident on the card) by generating commands
          (APDUs) to the PIV card command interface.
     +    PIV Card Application that implements the PIV Card Application card command
          interface, accesses and modifies the content of PIV data objects, and facilitates
          realization of PIV authentication use cases.
3.1 PIV Middleware Tests

These tests will validate that the PIV Middleware conforms to the specification in Part 3 of
SP 800-73-4. Conformance criteria include correct implementation of the functions for the
PIV client API, generation of appropriate commands for the PIV card command interface to
communicate with the PIV Card Application, and return of the prescribed response codes to
the calling agency application. This test, however, does not validate the functional
requirements or the testing of the FIPS 201-mandated card application parameters, which are
covered under the PIV data model tests as specified in SP 800-85B.
The following PIV Middleware functions are tested for conformance of the PIV Middleware
without support for secure messaging (SM) and the virtual contact interface (VCI):
     1. pivConnect
     2. pivDisconnect
     3. pivSelectCardApplication
     4. pivLogIntoCardApplication
     5. pivGetData
     6. pivLogoutOfCardApplication
     7. pivCrypt
     8. pivPutData
     9. pivGenerateKeyPair
     10. pivMiddlewareVersion
For PIV Middleware with support for SM and VCI, the following additional PIV Middleware
function is tested for conformance:
     11. pivEstablishSecureMessaging
These functions will be tested for their response to both the valid and the error conditions as
defined by this document. To conduct these tests, a smart card with an “SP 800-73-4-
conformant PIV Card Application” (refer to Section 7.2 for definition) must be accessible.




                                                 9
