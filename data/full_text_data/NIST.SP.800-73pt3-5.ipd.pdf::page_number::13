      NIST SP 800-73pt3-5 ipd (Initial Public Draft)               Interfaces for Personal Identity Verification: Part 3
      September 2023                                                                                   PIV Client API

238           Entry Points for Communication

239   3.1.1. pivMiddlewareVersion
240   Purpose:                Returns the PIV Middleware version string
241   Prototype:              status_word pivMiddlewareVersion(
242                              OUT   version           versionString
243                           );

244   Parameter:              versionString
245                           •     For SP 800-73-5 Part 3 conformant PIV Middleware, the parameter
246                                 returns “800-73-5 Client API” or “800-73-5 Client API with SM.”
247                           •     For SP 800-73-4 Part 3 conformant middleware, the parameter returns
248                                 “800-73-4 Client API” or “800-73-4 Client API with SM.”
249                           •     Earlier versions with versionString (e.g., “800-73-3 Client API,” “800-
250                                 73-2 Client API,” and “800-78-1 Client API”) are discontinued as they
251                                 do not conform to the requirements of FIPS 201-3.
252   Return Codes:               PIV_OK

253   PIV Middleware that returns a versionString of “800-73-5 Client API with SM” and “800-73-4
254   Client API with SM” SHALL implement all PIV Middleware functions listed in Table 1 and be
255   able to recognize and process all mandatory and optional PIV data objects. PIV Middleware that
256   returns a versionString of “800-73-5 Client API” and “800-73-4 Client API” SHALL implement
257   all PIV Middleware functions listed in Table 1 except for pivEstablishSecureMessaging and
258   SHALL be able to recognize and process all mandatory and optional PIV data objects.

259   3.1.2. pivConnect
260   Purpose:         Connects the client API to the PIV Card Application on a specific ICC.
261   Prototype:       status_word pivConnect(
262                       IN    Boolean           sharedConnection,
263   INOUT sequence of bytes connectionDescription,
264                                 INOUT LONG                    CDLength,
265                                 OUT   handle                  cardHandle
266                           );
267
268   Parameters:                 sharedConnection           If TRUE, other client applications CAN stablish
269                                                          concurrent connections to the ICC. If FALSE
270                                                          and the connection is established, then the
271                                                          calling client application has exclusive access to
272                                                          the ICC.
273                               connectionDescription A connection description data object (tag
274                                                          0x7F21). See Table 2.
275

                                                         5
