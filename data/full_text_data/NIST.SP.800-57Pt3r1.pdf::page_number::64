9        Encrypted File Systems (EFS)
9.1 Description
The encryption of data files and complete disk volumes presents a somewhat different set
of key management issues than those for encryption of network-communicated data.
While network communications security focuses on the privacy and integrity of
information in transit, storage (e.g., file) security focuses on the privacy and integrity of
persistent data and the secure sharing of this data. The key management guidance
surrounding file and volume encryption are sufficiently similar to consolidate into a
single section.

Unlike the previous sections, where the protocols and/or standards have been thoroughly
studied by the network security community, the commercial solutions for file encryption
utilize a wide variety of security schemes and methods for storing keys. Due to this range
of solutions, this section will not be comprehensive, but will cover a variety of methods
used for file encryption.

The most important questions that designers of a file encryption system must answer are:
    How are keys used in the system, and what protection are they afforded?
    Where are the keys stored on the system?
    Does the method scale upward for numerous user communities (without requiring
      an impractical number of keys to be stored)?

9.1.1 Number of Keys Required
For an Encrypted File System, keys are used to encrypt a file or group of files. The
system can either encrypt each file with a distinct symmetric key or encrypt a set of files
using the same symmetric key. In the first case, it is very easy to provide access to a
sharing user, for example, by simply giving the key to that user. In this way, only that
single file can be accessed by the sharing user without providing access to any of the
other files in the system. The drawback with this first method is that if many files are
encrypted, the model can quickly become unwieldy, since a key is required for each
encrypted file and must be provided to the sharing user.

In the second case, many fewer keys are required, which eases the key distribution
process. However, when a sharing user requires access to a single file, giving access to
that user is more problematic. By simply sending a key to the sharing user, access would
be provided to all of the owner’s40 files that were encrypted using that key, rather than to
the single file.

However, there are several cryptographic management actions that could be used to grant
access to an individual file in the second case above. One option to limit access in this
second system is for the owner or system to decrypt the file and re-encrypt it using a new
key for transmission to the sharing user (e.g., using network security mechanisms and
session keys). In the increasingly rare case of both users sharing a common file server,

40
     An owner could be an individual or a group of individuals or processes that share the key.

                                                       56
