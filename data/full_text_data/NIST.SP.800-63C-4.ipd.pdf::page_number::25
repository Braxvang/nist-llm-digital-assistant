      NIST SP 800-63C-4 ipd                                               Digital Identity Guidelines
      December 2022                                                       Federation and Assertions


597         established in this step, though the details of which attributes are released to a given
598         RP for a given subscriber can be deferred until a later stage.
599      2. Next, the IdP and RP perform registration to establish their trust at a protocol level,
600         allowing for information to be securely exchanged between the parties. While the
601         first step entails a policy decision representing a permission to connect, this step
602         entails establishment of credentials and identifiers representing the IdP and RP to
603         allow communication through the federation protocol. This stage can occur before
604         any subscriber tries to log in to the RP or as a response to a subscriber’s attempt to
605         use an IdP at an RP.
606      3. Next, the IdP and RP determine that they want to engage in a federated
607         authentication transaction to authenticate the subscriber. As part of this, they
608         determine which attributes about the subscriber are to be passed from the IdP
609         to the RP during this transaction. The decision made in this step builds on the
610         trust agreement established in the first step and the identities of the RP and IdP
611         established in the second step.
612      4. Finally, the subscriber authenticates to the IdP and the result of that authentication
613         event is asserted to the RP across the network. The RP processes this assertion from
614         the IdP and establishes an authenticated session with the subscriber.
615   In this transaction, the IdP acts as the verifier of the subscriber’s authenticators, as
616   described in [SP800-63B]. The authentication event information is carried from the IdP
617   to the RP through the use of an assertion, described in Sec. 6. The IdP can also make
618   statements about identity attributes of the subscriber as part of this assertion or through a
619   secondary identity protocol protected by an authorized credential.

620   5.1. Trust Agreements
621   IdPs that provide authentication services and RPs that consume those services are known
622   as members of a federation. From an IdP’s perspective, the federation consists of the RPs
623   that it serves. From an RP’s perspective, the federation consists of the IdPs that it uses.
624   This section provides an overview of and requirements for common identity federation
625   models currently in use. In each model, relationships are established between members
626   of the federation. These relationships are established in either a bilateral or multilateral
627   fashion, as described in the following sections.
628   Trust agreements SHALL establish the following parameters:
629       • The set of attributes the IdP can make available to the RP
630       • The population of subscriber accounts the IdP can create assertions for
631       • The set of attributes the RP will request (a subset of the attributes made available)
632       • The purpose for each attribute requested by the RP


                                                   13
