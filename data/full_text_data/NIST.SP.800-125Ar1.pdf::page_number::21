NIST SP 800-125A REV. 1                                                    SECURITY RECOMMENDATIONS FOR
                                                                       SERVER-BASED HYPERVISOR PLATFORMS


Based on the above issues relating to hypervisor memory scheduling, the following are the security
recommendations:

Security Recommendation HY-SR-3: The hypervisor should have configuration options to specify a
guaranteed physical RAM for every VM that requires it, as well as a limit to this value, and a priority
value for obtaining the required RAM resource in situations of contention among multiple VMs.
Further, the over-commit feature that enables the total configured memory for all VMs to exceed the
host physical RAM should be disabled by default.


4.3 VM CPU Allocation Options

The security goal in VM CPU allocation is to guarantee availability for all VMs. This can be achieved by
proper use of configuration options dealing with the allocation of physical resources such as CPU cores and
CPU clock cycles. For example, one of the configuration options commonly available is to set a minimum
CPU requirement, or reservation, in terms of clock cycles. The architectural parameter to be observed here
is that the number of VMs that can be deployed can be no more than the ratio of the total CPU clock cycles
that the hypervisor host can offer to the average reservation required by each VM. In a scenario where the
hypervisor host has 6000 MHz of CPU capacity and the average reservation for each VM is 1000 MHZ, then
no more than 6 VMs can be active in that hypervisor host. The reservation thus sets a lower bound
(guaranteed) on the CPU clock cycles required for each VM. Similarly, there should be a feature to set an
upper bound, or Limit, for the CPU cycles that each VM can use so that no single VM (sometimes a rogue
or a compromised one) consumes all CPU resources of the host and denies services to other co-resident VMs.
Further, to facilitate scheduling of hypervisor host CPU clock cycles in situations where multiple VMs
require clock cycles above the lower bound but below the upper bound, there should be a feature to assign a
priority score, or shares, to each VM. Summarizing the above desired features for ensuring fair share for all
VMs deployed, the security recommendations for VM CPU allocation are as follows:

Security Recommendation HY-SR-4: The hypervisor should have robust configuration features for
provisioning virtual resources to all hosted VMs such that it does not exceed a key physical resource
(e.g., number of CPU cores).

Security Recommendation HY-SR-5: The hypervisor should provide features to specify a lower and
upper bound for CPU clock cycles needed for every deployed VM as well as a feature to specify a
priority score for each VM to facilitate scheduling in situations of contention for CPU resources from
multiple VMs.




                                                      14
