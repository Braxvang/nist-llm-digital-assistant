                                                              GUIDELINES FOR THE SECURE DEPLOYMENT OF IPV6


         Shared infrastructure
         Need for more resources
         Application protocol preference.
Logically, the IPv4 and IPv6 infrastructures are different. Dual stack devices require routing and
switching infrastructures that are protocol aware. RFC 4554, Use of VLANs for IPv4-IPv6 Coexistence in
Enterprise Networks, describes how 802.1q tags can be used to divide a network logically into IPv4
routing and IPv6 routing domains.

Dual stack environments use more resources than a single protocol environment. The following are
examples of how a dual stack environment uses more resources:

         Each protocol stack must share the available network bandwidth
         Routers need to:
    -     Maintain forwarding tables for both IPv4 and IPv6
    -     Run routing protocols for both protocols
    -     Implement packet filtering for both protocols
    -     Provide for congestion control for both protocols
    -     Handle special cases (IPv4 Router Alerts and IPv6 Hop-by-Hop Options) for both
    -     Forward packets for both protocols.
         Hosts must devote resources to both protocol stacks (for example, processing, memory, and
          network infrastructure traffic).
         Administrative and security staff must maintain concurrent environments as well.
Within a dual stack environment, some applications are IPv4 only, some are IPv6 only, and some
applications may be IPv4/IPv6. The host must use the correct protocol to access each. The administrator
using DNS record order or translation mechanisms can influence protocol selection.

Applications are written to query only A, only AAAA, or both A and AAAA records for name resolution.
The administrator can influence the service called by ordering the records returned by DNS, giving
precedence to the preferred service. Except for IP addressing, DNS is the same protocol for both IPv4
and IPv6. For example, to allow an IPv4 host to locate a service, create a DNS A record, and to allow an
IPv6 host to locate a service, create a DNS AAAA record. Order the DNS records so that dual stack hosts
are resolved to the preferred service. When configuring DNS in a transition environment, administrators
should set the preference for IPv6.
  6.4.2     Addressing in a Dual Stack Environment

Each protocol stack is responsible for configuring its own addresses. The administrator can configure
static addresses or configure the host to receive dynamic addressing. If DHCP is used, then each protocol
stack must access a DHCP server for address allocation. DHCP has different protocols for IPv4 and IPv6.
Each protocol must access its own DHCP server.




                                                     6-10
