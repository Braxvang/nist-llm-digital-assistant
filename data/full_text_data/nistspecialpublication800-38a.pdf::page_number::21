output block. The first output block is exclusive-ORed with the first ciphertext block to recover
the first plaintext block. The first output block is then transformed by the forward cipher
function to produce the second output block. The second output block is exclusive-ORed with
the second ciphertext block to produce the second plaintext block, and the second output block is
also transformed by the forward cipher function to produce the third output block. Thus, the
successive output blocks are produced from applying the forward cipher function to the previous
output blocks, and the output blocks are exclusive-ORed with the corresponding ciphertext
blocks to recover the plaintext blocks. For the last block, which may be a partial block of u bits,
the most significant u bits of the last output block are used for the exclusive-OR operation; the
remaining b-u bits of the last output block are discarded.


                               INITIALIZATION
                                   VECTOR




                               INPUT BLOCK 1                              INPUT BLOCK 2                             INPUT BLOCK n
           ENCRYPT




                                   CIPHK                                       CIPHK                                     CIPHK
                              OUTPUT BLOCK 1                             OUTPUT BLOCK 2                            OUTPUT BLOCK n



                     PLAINTEXT 1    ⊕                            PLAINTEXT 2     ⊕                         PLAINTEXT n     ⊕

                              CIPHERTEXT 1                                 CIPHERTEXT 2                             CIPHERTEXT n




                                                INITIALIZATION
                                                    VECTOR



                                                INPUT BLOCK 1                             INPUT BLOCK 2                             INPUT BLOCK n


                                                  CIPHK                                     CIPHK                                     CIPHK
           DECRYPT




                                                OUTPUT BLOCK 1                            OUTPUT BLOCK 2                            OUTPUT BLOCK n




                              CIPHERTEXT 1            ⊕                    CIPHERTEXT 2        ⊕                    CIPHERTEXT n         ⊕

                                                  PLAINTEXT 1                              PLAINTEXT 2                               PLAINTEXT n




                                                           Figure 4: The OFB Mode


In both OFB encryption and OFB decryption, each forward cipher function (except the first)
depends on the results of the previous forward cipher function; therefore, multiple forward cipher
functions cannot be performed in parallel. However, if the IV is known, the output blocks can be
generated prior to the availability of the plaintext or ciphertext data.

The OFB mode requires a unique IV for every message that is ever encrypted under the given
key. If, contrary to this requirement, the same IV is used for the encryption of more than one
message, then the confidentiality of those messages may be compromised. In particular, if a
plaintext block of any of these messages is known, say, the jth plaintext block, then the jth output
of the forward cipher function can be determined easily from the jth ciphertext block of the
message. This information allows the jth plaintext block of any other message that is encrypted


                                                                                 14
