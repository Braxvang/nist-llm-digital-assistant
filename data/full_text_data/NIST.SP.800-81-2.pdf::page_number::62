SECURE DOMAIN NAME SYSTEM (DNS) DEPLOYMENT GUIDE



         zone “example.com” {
              type master;
              also-notify { 192.168.25.2; };
              file “zonedb.example.com”;
         };

The receiver of the DNS NOTIFY message, the secondary name server, allows notify messages only from
the primary name server by default. (Recall that the secondary name server is made aware of its primary
name server through the master substatement in the zone statement.) If the secondary name server wants
to receive notify messages from additional servers, the “allow-notify” substatement in the zone statement
must be added, and then the IP addresses of those servers must be specified in that substatement, as
follows:

         zone “example.com” {
              type slave;
              allow-notify { 193.168.25.4; };
              file “zonebak.example.com”;
              masters { 192.168.25.1; };
         };

8.1.7    Restricting NSD DNS NOTIFY Transaction Entities

There are two statements (both placed in the zone: statement block) that a DNS administrator can use to
send DNS NOTIFY messages or restrict listening for DNS NOTIFY messages to a particular IP address
(a master server in the case of NSD acting as a slave server).

To configure NSD to send DNS NOTIFY messages to a particular IP address (either a slave secondary or
a stealth secondary) and a particular TSIG key or the option “NOKEY” if no TSIG is used, the following
is added to the zone: statement block in the NSD configuration file:

        zone:
                 notify: 10.0.0.10           NOKEY

For a slave server the configuration statement in the zone: block to indicate which IP address to accept
DNS NOTIFY messages from:

         zone:
                 allow-notify: 10.11.12.13                NOKEY


8.2     Transaction Protection Through Hash-Based Message Authentication Codes (TSIG)

The process of authenticating the source of a message and its integrity through hash-based message
authentication codes (HMAC) is specified through a set of DNS specifications known collectively as
TSIG. The term HMAC is used to denote both the message authentication code generated by using a
keyed hash function and the hash function itself. HMAC is specified in RFC 2104 [RFC2104] and
generalized in the NIST document FIPS 198-1 [FIPS198].

An HMAC function uses two parameters—a message input and a secret key—and produces an output
called a message authentication code (MAC) or hash. The sender of the message uses the HMAC
function to generate a MAC and sends this MAC along with the message to the receiver. The receiver,



                                                   8-10
