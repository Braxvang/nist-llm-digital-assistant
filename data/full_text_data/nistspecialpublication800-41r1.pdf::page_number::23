                                                                                GUIDELINES ON FIREWALLS AND FIREWALL POLICY


3.       Firewalls and Network Architectures

Firewalls are used to separate networks with differing security requirements, such as the Internet and an
internal network that houses servers with sensitive data. Organizations should use firewalls wherever their
internal networks and systems interface with external networks and systems, and where security
requirements vary among their internal networks. This section is intended to help organizations determine
where firewalls should be placed, and where other networks and systems should be located in relation to
the firewalls.

Since one of the primary functions of a firewall is to prevent unwanted traffic from entering a network
(and, in some cases, from exiting it), firewalls should be placed at the edge of logical network
boundaries. 14 This normally means that firewalls are positioned either as a node where the network splits
into multiple paths, or inline along a single path. In routed networks, the firewall usually resides just on
the network at the location immediately before traffic enters the router (the ingress point), and is
sometimes co-resident with the router. It is rare to place the firewall for a multi-path node after the router
because the firewall device would need to watch each of the multiple exit paths that typically exist in such
situations. The vast majority of hardware firewall devices contain router capabilities, and in switched
networks, a firewall is often part of the switch itself to enable it to protect as many of the switched
segments as possible.

Firewall vendors often vary in their terminology for the logical flow of firewall traffic. A firewall takes
traffic that has not been checked, checks it against the firewall's policy, and then acts accordingly (e.g.,
passes the traffic, blocks it, passes it with some modification). Because all traffic on a network has a
direction, policies are based on the direction that the traffic is moving. For the purposes of this document,
traffic that has not yet been checked is coming from the “unprotected side” of the firewall and is moving
towards the “protected side.” Some firewalls check traffic in both directions—for example, if they are set
up to prevent specific traffic from an organization's local area network (LAN) from escaping to the
Internet. 15 In these cases, the protected side of the firewall is the one facing the outside network.

Section 2 lists many different types of firewall technologies. Network firewalls are almost always
hardware devices with multiple network interfaces; host-based and personal firewalls involve software
that resides on a single computer and protects only that computer; and personal firewall appliances are
designed to protect a single PC or a small office/home office network. This section focuses on network
firewalls because the other types are usually unrelated to network topology issues.

3.1      Network Layouts with Firewalls

Figure 3-1 shows a typical network layout with a hardware firewall device acting as a router. The
unprotected side of the firewall connects to the single path labeled “WAN,” and the protected side
connects to three paths labeled “LAN1,” “LAN2,” and “LAN3.” The firewall acts as a router for traffic
between the wide area network (WAN) path and the LAN paths. In the figure, one of the LAN paths also
has a router; some organizations prefer to use multiple layers of routers due to legacy routing policies
within the network.




14
      In addition to traditional network boundaries, this also includes boundaries related to the use of virtual machines. For
      example, there may be a need to restrict network activity between two virtual machines with different security policies.
15
      Some firewalls are configured to permit traffic in only one direction—for example, a firewall set up as a guard to allow
      limited traffic flows from a higher-impact system to a lower-impact system, but no traffic initiated by the lower-impact
      system to reach the higher-impact system.


                                                                3-1
