NIST SP 800-125B                                                   SECURE VIRTUAL NETWORK CONFIGURATION
                                                                                      FOR VM PROTECTION


2.5.1      Advantages

Major advantages of overlay-based network segmentation include the following:

      •    It is much more scalable compared to the VLAN-based approach due to the following:
           (a) A VXLAN network identifier (VNID) is a 24-bit field compared to the 12-bit VLAN ID.
               Hence the namespace for VXLANs (and the number of network segments that can be
               created) is about 16 million as opposed to 4096 for VLANs.
           (b) The encapsulating packet for overlay-based network segmentation is an IP/User Datagram
               Protocol (UDP) packet. So the number of network segments that can be defined is limited
               only by the number of IP subnets in the data center and not by the number of ports of virtual
               switches, as is the case for VLAN-based network segmentation.
      •    In a data center offering Infrastructure as a Service (IaaS) cloud services, isolation between the
           tenants can be achieved by assigning each of them at least one VXLAN segment (denoted by a
           unique VXLAN ID). Since VXLAN is a logical L2 layer network running on top of a physical L3
           layer (IP) network inside the data center, the latter is independent of the former. In other words,
           no device of the physical network has its configuration dependent on the configuration of any part
           of the virtual network. This provides the freedom to locate the computing and/or storage nodes
           belonging to a particular client in any physical segment of the data center network. In turn, this
           helps to locate those computing/storage resources based on performance and load balancing
           considerations. This results in greater VM mobility and availability.
      •    It eliminates the need to configure the trunking links going into every virtualized host with many
           VLANs (even though VMs belonging to some of the VLANs may not exist in the host at that
           time), and thus avoid an increase in traffic due to overprovisioning.
      •    Any overlay-based deployment in a production environment needs to have a control plane (and
           hence a controller) that facilitates automation of the provisioning functions, eliminating the
           chance of errors due to manual provisioning and enabling easier troubleshooting.
      •    It is easier to configure and manage the physical firewalls since only the VXLAN (or any other
           overlay scheme) port needs to be allowed for all VM traffic.

2.5.2      Disadvantages

A given network segment (a particular VXLAN ID) can exist in any virtualized host in the data center.
This means that routing packets between any two VMs requires large mapping tables for the MAC
addresses of the remote VMs and their corresponding VTEP IP addresses. As previously stated, the
preferred way to build the mapping tables is to using a centralized or decentralized controller. However,
the introduction of this control plane increases the overhead of network management. Another factor to
watch for is the size of the mapping table; this can be controlled by carefully limiting the span of overlay
segment by proper definition of Layer 2 Transport Zones (as is the case in typical production networks).

2.6       Security Recommendations for Network Segmentation

Based on the analysis of network segmentation approaches for VM protection in Sections 2.1 through 2.5,
the following security recommendations are provided. Each recommendation has a unique identifier of
format VM-NS-Rx, where VM stands for virtual machine, NS for network segmentation, and Rx for the
recommendation sequence.



                                                       10
