NIST SP 800-85A-4                                               PIV CARD APPLICATION & MIDDLEWARE
                                                                         INTERFACE TEST GUIDELINES

                                    Appendix A.3: Data Types and
                                     Their Representation (Section 5,
                                     SP 800-73-4 Part 1, SP 800-73-4
                                     Part 2)
                                    Appendix A.4: PIV Client API (SP
                                     800-73-4 Part 3)


5.2 PIV Client API Test Assertions

This section provides conformance tests in the form of test assertions for the functions
specified in Section 3, SP 800-73-4 Part 3 (referred to as the client API) that the PIV
Middleware is expected to support. The test assertions are described through a test assertions
template. The template provides placeholders for describing the purpose of the test, the
preconditions required to exercise the test, the parameter values used in test invocation, and
the expected results as well as the state of the PIV system (value of state variables), if any,
that will be affected by the test run (post-condition).
The conformance tests are run against the PIV Middleware, which in turn interacts with the
PIV Card Application resident on the PIV Card. Hence, there are two pieces of software (PIV
Middleware and PIV Card Application) that determine the outcome of each test run. Because
the focus of the tests is the behavior of the PIV Middleware, the test configuration assumes
the presence of a validated PIV Card Application.
The test assertions derived from SP 800-73-4 and SP 800-78-4 are demonstrated by test cases
in Appendix B.
The PIV client API test cases are based on the following assumptions:
      +   There is a PIV Card with a validated PIV Card Application.
      +   A valid connection description is provided for the PIV Card Application.
      +   A valid physical connection exists between an instance of the PIV card reader and the
          host where the PIV Middleware resides.
      +   No other application is currently connected to the PIV Card Application.
5.3       PIV Card Command Interface Test Assertions

This section provides conformance tests in the form of test assertions for the command set
that is specified in Section 3, Part 2 of SP 800-73-4 (PIV Card Application Card Command
Interface) that the PIV Card Application is required to support. The test assertions are
described through a test assertions template. The template provides placeholders for
describing the purpose of the test, the preconditions required to exercise the test, the
parameter values used in test invocation, and the expected results as well as the state of the
PIV system (value of state variables), if any, that will be affected by the test run (post-
condition).
The conformance tests are run to validate the PIV Card Application. Interaction with the PIV
Card Application takes place through the API of the driver that comes with the card reader.
The test assertions derived from SP 800-73-4 Part 2 are demonstrated in test cases in
Appendix C.


                                                16
